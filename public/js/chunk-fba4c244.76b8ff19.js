(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-fba4c244"],{"153c":function(t,e,i){var n=i("21f6"),a=i("218d"),r=i("420c"),o=i("fc5c"),l=n("".replace),c="["+o+"]",u=RegExp("^"+c+c+"*"),s=RegExp(c+c+"*$"),d=function(t){return function(e){var i=r(a(e));return 1&t&&(i=l(i,u,"")),2&t&&(i=l(i,s,"")),i}};t.exports={start:d(1),end:d(2),trim:d(3)}},1799:function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",{staticClass:"text-align-right rw-page"},[i("el-pagination",{attrs:{background:"","current-page":t.currentPage,"page-size":t.pageSize,layout:t.layout,"page-sizes":t.pageSizeList,total:t.total},on:{"update:currentPage":function(e){t.currentPage=e},"update:current-page":function(e){t.currentPage=e},"update:pageSize":function(e){t.pageSize=e},"update:page-size":function(e){t.pageSize=e},"size-change":t.onChangeSize,"current-change":t.onChangePage}})],1)},a=[],r=(i("cae2"),{name:"Pagination",props:{total:{required:!0,type:Number},page:{type:Number,default:1},page_size:{type:Number,default:10},pageSizeList:{type:Array,default:function(){return[5,10,20,30,50]}},layout:{type:String,default:"total, sizes, prev, pager, next"}},computed:{currentPage:{get:function(){return this.page},set:function(t){this.$emit("update:page",t)}},pageSize:{get:function(){return this.page_size},set:function(t){this.$emit("update:page_size",t)}}},methods:{onChangeSize:function(t){this.$emit("pagination",{page:this.currentPage,page_size:t})},onChangePage:function(t){this.$emit("pagination",{page:t,page_size:this.pageSize})}}}),o=r,l=i("bdd7"),c=Object(l["a"])(o,n,a,!1,null,null,null);e["a"]=c.exports},"24d2":function(t,e,i){"use strict";var n=i("bdd0");e["a"]={list:function(t){return Object(n["a"])("api.project.list",t)},info:function(t){return Object(n["a"])("api.project.info",{id:t})},add:function(t){return Object(n["a"])("api.project.add",t)},update:function(t){return Object(n["a"])("api.project.edit",t)},edit:function(t){var e="api.project.add";return t.id&&(e="api.project.update"),Object(n["a"])(e,t)},delete:function(t){return Object(n["a"])("api.project.del",{id:t})},member:{list:function(t){return Object(n["a"])("api.project.member.list",t)},info:function(t){return Object(n["a"])("api.project.member.info",{id:t})},add:function(t){return Object(n["a"])("api.project.member.add",t)},update:function(t){return Object(n["a"])("api.project.member.edit",t)},edit:function(t){var e="api.project.member.add";return t.id&&(e="api.project.member.update"),Object(n["a"])(e,t)},delete:function(t){return Object(n["a"])("api.project.member.del",{id:t})}}}},"3ad0":function(t,e,i){"use strict";i.d(e,"c",(function(){return a})),i.d(e,"b",(function(){return r})),i.d(e,"a",(function(){return o}));var n=i("70f6");function a(t){Object(n["Message"])({message:t||"操作成功",type:"success",duration:2e3})}function r(t){Object(n["Message"])({message:t||"操作失败",type:"danger",duration:2e3})}function o(t,e,i){n["MessageBox"].confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e()})).catch((function(){}))}},"3f7a":function(t,e,i){"use strict";var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-dialog",{attrs:{title:t.title,visible:t.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[t._t("default",null,{data:t.data})],2)},a=[],r={props:["title","visible"],computed:{data:function(){return this.$props.data},dialogVisible:{get:function(){return this.$props.visible},set:function(t){this.$emit("close")}}}},o=r,l=i("bdd7"),c=Object(l["a"])(o,n,a,!1,null,null,null);e["a"]=c.exports},"5ad4":function(t,e,i){var n=i("769d"),a=i("0bd7"),r=i("4841");t.exports=function(t,e,i){var o,l;return r&&n(o=e.constructor)&&o!==i&&a(l=o.prototype)&&l!==i.prototype&&r(t,l),t}},"83b7":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",[i("el-button",{attrs:{type:"primary",size:"small",icon:"el-icon-circle-plus-outline",plain:""},on:{click:function(e){t.idForEdit=0}}},[t._v(" 新增工程 ")])],1),i("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"mt-20",staticStyle:{width:"100%"},attrs:{size:"small",border:"",data:t.list,stripe:""}},[i("el-table-column",{attrs:{prop:"id",label:"ID",width:"80"}}),i("el-table-column",{attrs:{prop:"sign",label:"标识",width:"100"}}),i("el-table-column",{attrs:{prop:"name",label:"名称",width:"200"}}),i("el-table-column",{attrs:{prop:"sname",label:"简称",width:"100"}}),i("el-table-column",{attrs:{prop:"doc_num",label:"文档数量",width:"100"}}),i("el-table-column",{attrs:{prop:"test_num",label:"测试用例",width:"100"}}),i("el-table-column",{attrs:{prop:"bug_num",label:"BUG数量",width:"100"}}),i("el-table-column",{attrs:{prop:"ord",label:"优先级",width:"80"}}),i("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[t.allow("api.project.update")?i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){t.idForEdit=e.row.id}}},[t._v(" 编辑 ")]):t._e(),t.allow("api.project.del")?i("el-button",{attrs:{type:"text",size:"small"},on:{click:function(i){return t.onDel(e.row)}}},[t._v(" 删除 ")]):t._e(),t.allow("api.project.member.list")?i("router-link",{attrs:{to:"/project/member/"+e.row.id}},[i("el-button",{staticClass:"c-success ml-10",attrs:{type:"text",size:"small"}},[t._v(" 设置项目成员 ")])],1):t._e()]}}])})],1),i("Pagination",{attrs:{total:t.count,page_size:t.query.page_size,page:t.query.page},on:{"update:page_size":function(e){return t.$set(t.query,"page_size",e)},"update:page":function(e){return t.$set(t.query,"page",e)},pagination:t.init}}),t.idForEdit>-1?i("Dialog",{attrs:{title:0===t.idForEdit?"新增工程":"编辑工程",visible:t.idForEdit>-1},on:{close:function(e){t.idForEdit=-1}}},[i("ProjectEdit",{attrs:{id:t.idForEdit},on:{reload:t.load}})],1):t._e()],1)},a=[],r=i("1799"),o=i("3f7a"),l=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("el-form",{staticStyle:{width:"100%"},attrs:{model:t.form,"label-width":"80px","label-position":"right",size:"small"}},[i("el-form-item",{attrs:{label:"名称"}},[i("el-input",{model:{value:t.form.name,callback:function(e){t.$set(t.form,"name",e)},expression:"form.name"}})],1),i("el-form-item",{attrs:{label:"简称"}},[i("el-input",{model:{value:t.form.sname,callback:function(e){t.$set(t.form,"sname",e)},expression:"form.sname"}})],1),i("el-form-item",{attrs:{label:"标识"}},[i("el-input",{model:{value:t.form.sign,callback:function(e){t.$set(t.form,"sign",e)},expression:"form.sign"}})],1),i("el-form-item",{attrs:{label:"优先级"}},[i("el-input",{model:{value:t.form.ord,callback:function(e){t.$set(t.form,"ord",e)},expression:"form.ord"}})],1),i("el-form-item",[i("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v(" "+t._s(t.form.id>0?"确认修改":"新增")+" ")])],1)],1)},c=[],u=i("24d2"),s=i("3ad0"),d={props:["id"],data:function(){return{loading:!0,form:{}}},created:function(){var t=this;this.id?(this.form.id=this.id,u["a"].info(this.id).then((function(e){t.form=e,t.loading=!1}))):this.loading=!1},methods:{onSubmit:function(){var t=this;this.loading||(this.loading=!0,u["a"].edit(this.form).then((function(e){Object(s["c"])(t.id?"编辑成功":"新增成功"),t.$emit("reload")}),(function(e){t.loading=!1})))}}},p=d,f=i("bdd7"),m=Object(f["a"])(p,l,c,!1,null,null,null),g=m.exports,b=i("4cac"),h={components:{Pagination:r["a"],ProjectEdit:g,Dialog:o["a"]},data:function(){return{idForEdit:-1,title:"",loading:!0,list:[],count:0,query:{page:1,page_size:10}}},created:function(){this.init(),this.$emit("load","project")},methods:{init:function(){var t=this;this.loading=!0,u["a"].list(this.query).then((function(e){t.list=e.datas,t.count=e.count,t.loading=!1}))},onDel:function(t){var e=this;Object(s["a"])("您确定要删除吗",(function(){u["a"].delete(t.id).then((function(t){Object(s["c"])("删除成功"),e.load()}))}))},load:function(){0===this.idForEdit&&(this.query.page=1),this.idForEdit=-1,this.init()},allow:b["a"]}},v=h,j=Object(f["a"])(v,n,a,!1,null,null,null);e["default"]=j.exports},"8df8":function(t,e,i){var n=i("21f6");t.exports=n(1..valueOf)},cae2:function(t,e,i){"use strict";var n=i("fdff"),a=i("2ef6"),r=i("21f6"),o=i("83d1"),l=i("7293"),c=i("8e14"),u=i("5ad4"),s=i("18e2"),d=i("cc40"),p=i("87d7"),f=i("9d66"),m=i("657a").f,g=i("39f5").f,b=i("b74d").f,h=i("8df8"),v=i("153c").trim,j="Number",_=a[j],y=_.prototype,z=a.TypeError,E=r("".slice),w=r("".charCodeAt),x=function(t){var e=p(t,"number");return"bigint"==typeof e?e:O(e)},O=function(t){var e,i,n,a,r,o,l,c,u=p(t,"number");if(d(u))throw z("Cannot convert a Symbol value to a number");if("string"==typeof u&&u.length>2)if(u=v(u),e=w(u,0),43===e||45===e){if(i=w(u,2),88===i||120===i)return NaN}else if(48===e){switch(w(u,1)){case 66:case 98:n=2,a=49;break;case 79:case 111:n=8,a=55;break;default:return+u}for(r=E(u,2),o=r.length,l=0;l<o;l++)if(c=w(r,l),c<48||c>a)return NaN;return parseInt(r,n)}return+u};if(o(j,!_(" 0o1")||!_("0b1")||_("+0x1"))){for(var N,S=function(t){var e=arguments.length<1?0:_(x(t)),i=this;return s(y,i)&&f((function(){h(i)}))?u(Object(e),i,S):e},$=n?m(_):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,isFinite,isInteger,isNaN,isSafeInteger,parseFloat,parseInt,fromString,range".split(","),I=0;$.length>I;I++)c(_,N=$[I])&&!c(S,N)&&b(S,N,g(_,N));S.prototype=y,y.constructor=S,l(a,j,S)}},fc5c:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"}}]);