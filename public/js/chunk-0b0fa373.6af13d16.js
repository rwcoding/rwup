(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0b0fa373"],{"2f50":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e._l(e.access,(function(t,a){return s("div",{key:a,staticStyle:{background:"white",padding:"10px","margin-bottom":"10px"}},[s("el-row",{staticClass:"row"},[s("el-col",{attrs:{span:2}},[e._v(e._s(e.titles[a]))]),s("el-col",{attrs:{span:22}},[s("el-radio",{attrs:{label:1},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item.value"}},[e._v("开启")]),s("el-radio",{staticClass:"c-danger",attrs:{label:0},model:{value:t.value,callback:function(s){e.$set(t,"value",s)},expression:"item.value"}},[e._v(" 关闭 ")])],1)],1),s("el-row",{staticStyle:{padding:"20px 0"}},[s("el-col",{attrs:{span:2}},[s("el-button",{attrs:{size:"small",type:"primary",plain:""},on:{click:function(t){e.add=a}}},[e._v(" 增加 ")])],1),s("el-col",{attrs:{span:22}},e._l(t.users,(function(t){return s("el-tag",{key:t,staticStyle:{"margin-right":"10px"},attrs:{closable:""},on:{close:function(s){return e.onTagClose(a,t)}}},[e._v(" "+e._s(t)+" ")])})),1)],1)],1)})),s("el-button",{attrs:{type:"primary"},on:{click:e.onSubmit}},[e._v("确认修改")]),s("br"),s("br"),s("Dialog",{attrs:{title:"添加用户",visible:""!==e.add},on:{close:function(){e.add="",e.username=""}}},[s("el-form",{attrs:{size:"small","label-position":"top"}},[s("el-form-item",{attrs:{label:"账号"}},[s("el-input",{attrs:{placeholder:"名称"},model:{value:e.username,callback:function(t){e.username=t},expression:"username"}})],1),s("el-form-item",[s("el-button",{attrs:{type:"primary"},on:{click:e.onUser}},[e._v("确定")])],1)],1)],1)],2)},i=[],n=(s("d41c"),s("3f7a")),c=s("e475"),r=s("3ad0"),o={components:{Dialog:n["a"]},data:function(){return{loading:!0,add:"",username:"",id:0,titles:{rw:"读白名单",rb:"读黑名单",ww:"写白名单",wb:"写黑名单"},access:{rw:{users:[],value:0},rb:{users:[],value:0}}}},created:function(){this.id=parseInt(this.$route.params.id),this.$emit("load","access"),this.init()},methods:{init:function(){var e=this;this.loading=!0,c["a"].access.info(this.id).then((function(t){e.access=t,e.loading=!1}))},onUser:function(){this.access[this.add].users.push(this.username),this.add="",this.username=""},onTagClose:function(e,t){this.access[e].users.splice(this.access[e].users.indexOf(t),1)},onSubmit:function(){var e=this;if(!this.loading){this.loading=!0;var t={};t.id=this.id,t.is_rw=this.access.rw.value,t.is_rb=this.access.rb.value,t.is_ww=this.access.ww.value,t.is_wb=this.access.wb.value,t.rw_users=this.access.rw.users,t.rb_users=this.access.rb.users,t.ww_users=this.access.ww.users,t.wb_users=this.access.wb.users,c["a"].access.update(t).then((function(t){Object(r["c"])("设置成功"),e.loading=!1}),(function(t){e.loading=!1}))}}}},l=o,u=s("bdd7"),d=Object(u["a"])(l,a,i,!1,null,null,null);t["default"]=d.exports},"3ad0":function(e,t,s){"use strict";s.d(t,"c",(function(){return i})),s.d(t,"b",(function(){return n})),s.d(t,"a",(function(){return c}));var a=s("70f6");function i(e){Object(a["Message"])({message:e||"操作成功",type:"success",duration:2e3})}function n(e){Object(a["Message"])({message:e||"操作失败",type:"danger",duration:2e3})}function c(e,t,s){a["MessageBox"].confirm(e,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t()})).catch((function(){}))}},"3f7a":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("el-dialog",{attrs:{title:e.title,visible:e.dialogVisible,"close-on-click-modal":!1,"close-on-press-escape":!1,"destroy-on-close":!0},on:{"update:visible":function(t){e.dialogVisible=t}}},[e._t("default",null,{data:e.data})],2)},i=[],n={props:["title","visible"],computed:{data:function(){return this.$props.data},dialogVisible:{get:function(){return this.$props.visible},set:function(e){this.$emit("close")}}}},c=n,r=s("bdd7"),o=Object(r["a"])(c,a,i,!1,null,null,null);t["a"]=o.exports},d41c:function(e,t,s){"use strict";var a=s("9a4c"),i=s("2ef6"),n=s("4278"),c=s("64ea"),r=s("a4f0"),o=s("ed2d"),l=s("af17"),u=s("0630"),d=s("242f"),f=d("splice"),p=i.TypeError,b=Math.max,h=Math.min,m=9007199254740991,v="Maximum allowed length exceeded";a({target:"Array",proto:!0,forced:!f},{splice:function(e,t){var s,a,i,d,f,g,w=o(this),_=r(w),O=n(e,_),j=arguments.length;if(0===j?s=a=0:1===j?(s=0,a=_-O):(s=j-2,a=h(b(c(t),0),_-O)),_+s-a>m)throw p(v);for(i=l(w,a),d=0;d<a;d++)f=O+d,f in w&&u(i,d,w[f]);if(i.length=a,s<a){for(d=O;d<_-a;d++)f=d+a,g=d+s,f in w?w[g]=w[f]:delete w[g];for(d=_;d>_-a+s;d--)delete w[d-1]}else if(s>a)for(d=_-a;d>O;d--)f=d+a-1,g=d+s-1,f in w?w[g]=w[f]:delete w[g];for(d=0;d<s;d++)w[d+O]=arguments[d+2];return w.length=_-a+s,i}})},e475:function(e,t,s){"use strict";var a=s("bdd0");t["a"]={list:function(e){return Object(a["a"])("api.doc.list",e)},info:function(e){return Object(a["a"])("api.doc.info",{id:e})},add:function(e){return Object(a["a"])("api.doc.add",e)},update:function(e){return Object(a["a"])("api.doc.update",e)},content:function(e){return Object(a["a"])("api.doc.content",e)},upload:function(e){return Object(a["a"])("api.doc.upload",e)},search:function(e){return Object(a["a"])("api.doc.search",e)},tree:function(e){return Object(a["a"])("api.doc.tree",{id:e})},edit:function(e){var t="api.doc.add";return e.id&&(t="api.doc.update"),Object(a["a"])(t,e)},delete:function(e){return Object(a["a"])("api.doc.del",{id:e})},access:{info:function(e){return Object(a["a"])("api.doc.access.info",{id:e})},update:function(e){return Object(a["a"])("api.doc.access.update",e)}}}}}]);