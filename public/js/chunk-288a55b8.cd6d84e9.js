(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-288a55b8"],{"0502":function(t,n,e){"use strict";var o=e("9d66");t.exports=function(t,n){var e=[][t];return!!e&&o((function(){e.call(null,n||function(){throw 1},1)}))}},"0e68":function(t,n,e){var o=e("6266"),r=e("21f6"),i=e("442e"),u=e("ed2d"),a=e("a4f0"),c=e("af17"),s=r([].push),f=function(t){var n=1==t,e=2==t,r=3==t,f=4==t,l=6==t,d=7==t,p=5==t||l;return function(h,v,g,m){for(var y,b,w=u(h),S=i(w),L=o(v,g),E=a(S),x=0,O=m||c,F=n?O(h,E):e||d?O(h,0):void 0;E>x;x++)if((p||x in S)&&(y=S[x],b=L(y,x,w),t))if(n)F[x]=b;else if(b)switch(t){case 3:return!0;case 5:return y;case 6:return x;case 2:s(F,y)}else switch(t){case 4:return!1;case 7:s(F,y)}return l?-1:r||f?f:F}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterReject:f(7)}},"20e2":function(t,n,e){
/*!
  * vue-scrollto v2.20.0
  * (c) 2019 Randjelovic Igor
  * @license MIT
  */
(function(n,e){t.exports=e()})(0,(function(){"use strict";function t(n){return t="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(n)}function n(){return n=Object.assign||function(t){for(var n=1;n<arguments.length;n++){var e=arguments[n];for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o])}return t},n.apply(this,arguments)}var e=4,o=.001,r=1e-7,i=10,u=11,a=1/(u-1),c="function"===typeof Float32Array;function s(t,n){return 1-3*n+3*t}function f(t,n){return 3*n-6*t}function l(t){return 3*t}function d(t,n,e){return((s(n,e)*t+f(n,e))*t+l(n))*t}function p(t,n,e){return 3*s(n,e)*t*t+2*f(n,e)*t+l(n)}function h(t,n,e,o,u){var a,c,s=0;do{c=n+(e-n)/2,a=d(c,o,u)-t,a>0?e=c:n=c}while(Math.abs(a)>r&&++s<i);return c}function v(t,n,o,r){for(var i=0;i<e;++i){var u=p(n,o,r);if(0===u)return n;var a=d(n,o,r)-t;n-=a/u}return n}function g(t){return t}var m=function(t,n,e,r){if(!(0<=t&&t<=1&&0<=e&&e<=1))throw new Error("bezier x values must be in [0, 1] range");if(t===n&&e===r)return g;for(var i=c?new Float32Array(u):new Array(u),s=0;s<u;++s)i[s]=d(s*a,t,e);function f(n){for(var r=0,c=1,s=u-1;c!==s&&i[c]<=n;++c)r+=a;--c;var f=(n-i[c])/(i[c+1]-i[c]),l=r+f*a,d=p(l,t,e);return d>=o?v(n,l,t,e):0===d?l:h(n,r,r+a,t,e)}return function(t){return 0===t?0:1===t?1:d(f(t),n,r)}},y={ease:[.25,.1,.25,1],linear:[0,0,1,1],"ease-in":[.42,0,1,1],"ease-out":[0,0,.58,1],"ease-in-out":[.42,0,.58,1]},b=!1;try{var w=Object.defineProperty({},"passive",{get:function(){b=!0}});window.addEventListener("test",null,w)}catch($){}var S={$:function(t){return"string"!==typeof t?t:document.querySelector(t)},on:function(t,n,e){var o=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{passive:!1};n instanceof Array||(n=[n]);for(var r=0;r<n.length;r++)t.addEventListener(n[r],e,!!b&&o)},off:function(t,n,e){n instanceof Array||(n=[n]);for(var o=0;o<n.length;o++)t.removeEventListener(n[o],e)},cumulativeOffset:function(t){var n=0,e=0;do{n+=t.offsetTop||0,e+=t.offsetLeft||0,t=t.offsetParent}while(t);return{top:n,left:e}}},L=["mousedown","wheel","DOMMouseScroll","mousewheel","keyup","touchmove"],E={container:"body",duration:500,lazy:!0,easing:"ease",offset:0,force:!0,cancelable:!0,onStart:!1,onDone:!1,onCancel:!1,x:!1,y:!0};function x(t){E=n({},E,t)}var O=function(){var n,e,o,r,i,u,a,c,s,f,l,d,p,h,v,g,b,w,x,O,F,k,T,_,G,j,C,P=function(t){c&&(T=t,O=!0)};function A(t){var n=t.scrollTop;return"body"===t.tagName.toLowerCase()&&(n=n||document.documentElement.scrollTop),n}function $(t){var n=t.scrollLeft;return"body"===t.tagName.toLowerCase()&&(n=n||document.documentElement.scrollLeft),n}function M(){F=S.cumulativeOffset(e),k=S.cumulativeOffset(n),d&&(v=k.left-F.left+u,w=v-h),p&&(b=k.top-F.top+u,x=b-g)}function D(t){if(O)return V();G||(G=t),i||M(),j=t-G,C=Math.min(j/o,1),C=_(C),q(e,g+x*C,h+w*C),j<o?window.requestAnimationFrame(D):V()}function V(){O||q(e,b,v),G=!1,S.off(e,L,P),O&&l&&l(T,n),!O&&f&&f(n)}function q(t,n,e){p&&(t.scrollTop=n),d&&(t.scrollLeft=e),"body"===t.tagName.toLowerCase()&&(p&&(document.documentElement.scrollTop=n),d&&(document.documentElement.scrollLeft=e))}function z(v,F){var k=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if("object"===t(F)?k=F:"number"===typeof F&&(k.duration=F),n=S.$(v),!n)return console.warn("[vue-scrollto warn]: Trying to scroll to an element that is not on the page: "+v);if(e=S.$(k.container||E.container),o=k.hasOwnProperty("duration")?k.duration:E.duration,i=k.hasOwnProperty("lazy")?k.lazy:E.lazy,r=k.easing||E.easing,u=k.hasOwnProperty("offset")?k.offset:E.offset,a=k.hasOwnProperty("force")?!1!==k.force:E.force,c=k.hasOwnProperty("cancelable")?!1!==k.cancelable:E.cancelable,s=k.onStart||E.onStart,f=k.onDone||E.onDone,l=k.onCancel||E.onCancel,d=void 0===k.x?E.x:k.x,p=void 0===k.y?E.y:k.y,"function"===typeof u&&(u=u(n,e)),h=$(e),g=A(e),M(),O=!1,!a){var G="body"===e.tagName.toLowerCase()?document.documentElement.clientHeight||window.innerHeight:e.offsetHeight,j=g,C=j+G,V=b-u,q=V+n.offsetHeight;if(V>=j&&q<=C)return void(f&&f(n))}if(s&&s(n),x||w)return"string"===typeof r&&(r=y[r]||y["ease"]),_=m.apply(m,r),S.on(e,L,P,{passive:!0}),window.requestAnimationFrame(D),function(){T=null,O=!0};f&&f(n)}return z},F=O(),k=[];function T(t){for(var n=0;n<k.length;++n)if(k[n].el===t)return k.splice(n,1),!0;return!1}function _(t){for(var n=0;n<k.length;++n)if(k[n].el===t)return k[n]}function G(t){var n=_(t);return n||(k.push(n={el:t,binding:{}}),n)}function j(t){var n=G(this).binding;if(n.value){if(t.preventDefault(),"string"===typeof n.value)return F(n.value);F(n.value.el||n.value.element,n.value)}}var C={bind:function(t,n){G(t).binding=n,S.on(t,"click",j)},unbind:function(t){T(t),S.off(t,"click",j)},update:function(t,n){G(t).binding=n}},P={bind:C.bind,unbind:C.unbind,update:C.update,beforeMount:C.bind,unmounted:C.unbind,updated:C.update,scrollTo:F,bindings:k},A=function(t,n){n&&x(n),t.directive("scroll-to",P);var e=t.config.globalProperties||t.prototype;e.$scrollTo=P.scrollTo};return"undefined"!==typeof window&&window.Vue&&(window.VueScrollTo=P,window.VueScrollTo.setDefaults=x,window.VueScrollTo.scroller=O,window.Vue.use&&window.Vue.use(A)),P.install=A,P}))},"346f":function(t,n,e){"use strict";var o=e("9a4c"),r=e("0e68").find,i=e("7e6f"),u="find",a=!0;u in[]&&Array(1)[u]((function(){a=!1})),o({target:"Array",proto:!0,forced:a},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),i(u)},"3ad0":function(t,n,e){"use strict";e.d(n,"c",(function(){return r})),e.d(n,"b",(function(){return i})),e.d(n,"a",(function(){return u}));var o=e("70f6");function r(t){Object(o["Message"])({message:t||"操作成功",type:"success",duration:2e3})}function i(t){Object(o["Message"])({message:t||"操作失败",type:"danger",duration:2e3})}function u(t,n,e){o["MessageBox"].confirm(t,"提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){n()})).catch((function(){}))}},"3d42":function(t,n,e){"use strict";e("c9a3")},c9a3:function(t,n,e){},cc03:function(t,n,e){"use strict";var o=e("0e68").forEach,r=e("0502"),i=r("forEach");t.exports=i?[].forEach:function(t){return o(this,t,arguments.length>1?arguments[1]:void 0)}},da69:function(t,n,e){"use strict";e.r(n);var o=function(){var t=this,n=t.$createElement,e=t._self._c||n;return e("div",[e("div",{staticClass:"groups",style:{top:t.top+"px"},attrs:{span:3}},t._l(t.groups,(function(n){return e("div",{key:n.id,staticClass:"group-item",on:{click:function(e){return t.onPosition(n.id)}}},[t._v(" "+t._s(n.name)+" ")])})),0),e("div",{staticClass:"container",attrs:{span:21}},[t._l(t.permissions,(function(n){return e("div",{key:n.group.id,staticClass:"ps-group",attrs:{id:"group-"+n.group.id}},[e("el-checkbox",{attrs:{indeterminate:t.halfForGroup[n.group.id]},on:{change:function(e){return t.onSelect(n.group.id)}},model:{value:t.statusForGroup[n.group.id],callback:function(e){t.$set(t.statusForGroup,n.group.id,e)},expression:"statusForGroup[gl.group.id]"}},[t._v(" "+t._s(n.group.name)+" ")]),e("el-checkbox-group",{on:{change:function(e){return t.onSelectGroup(n.group.id)}},model:{value:t.idList[n.group.id],callback:function(e){t.$set(t.idList,n.group.id,e)},expression:"idList[gl.group.id]"}},t._l(n.tree,(function(n){return e("el-checkbox",{key:n.id,attrs:{label:n.id}},[t._v(" "+t._s(n.name)+" ")])})),1)],1)})),e("div",{staticStyle:{padding:"10px 0"}},[e("el-button",{attrs:{type:"primary"},on:{click:t.onSubmit}},[t._v("确认设置")])],1)],2)])},r=[],i=(e("a4c0"),e("f90c"),e("346f"),e("2bde"),e("e963")),u=e("3ad0"),a=e("20e2"),c=e.n(a),s={data:function(){return{loading:!0,top:108,statusForGroup:{},halfForGroup:{},groups:[],role:{},idList:[],permissions:[]}},created:function(){this.init(),window.addEventListener("scroll",this.onScroll)},beforeDestroy:function(){window.removeEventListener("scroll",this.onScroll)},methods:{init:function(){var t=this;this.loading=!0,i["a"].roleQuery({role_id:this.$route.params.id}).then((function(n){t.role=n.role,t.groups=n.groups;var e=[],o=[],r={},i={};n.groups.forEach((function(t){var u=[],a=[];n.permissions.forEach((function(e){if(e.group_id===t.id){u.push(e);var o=n.own_permissions.find((function(t){return t===e.permission}));o&&a.push(e.id)}})),r[t.id]=!1,i[t.id]=!1,a.length>0&&a.length===u.length&&(r[t.id]=!0),a.length>0&&a.length<u.length&&(i[t.id]=!0),e[t.id]=a,o.push({group:t,tree:u})})),t.statusForGroup=r,t.halfForGroup=i,t.idList=e,t.permissions=o,t.loading=!1}))},onSelect:function(t){var n=this;this.halfForGroup[t]=!1;var e=this.statusForGroup[t];this.permissions.every((function(o){if(o.group.id!==t)return!0;var r=[];o.tree.forEach((function(t){e&&r.push(t.id)})),n.idList[t]=r}))},onSelectGroup:function(t){for(var n in this.permissions)if(this.permissions[n].group.id===t)return this.idList[t].length>0&&this.idList[t].length<this.permissions[n].tree.length?this.halfForGroup[t]=!0:this.halfForGroup[t]=!1,void(this.idList[t].length===this.permissions[n].tree.length&&(this.statusForGroup[t]=!0))},onSubmit:function(){var t=this;if(!this.loading){var n=[];for(var e in this.idList)n=n.concat(this.idList[e]);i["a"].roleSet({role_id:this.role.id,permissions:n}).then((function(n){Object(u["c"])("权限设置成功"),t.$emit("reload","role")}))}},onPosition:function(t){c.a.scrollTo("#group-"+t,"body",{})},onScroll:function(){document.documentElement.scrollTop>92?20!==this.top&&(this.top=20):108!==this.top&&(this.top=108)}}},f=s,l=(e("3d42"),e("bdd7")),d=Object(l["a"])(f,o,r,!1,null,null,null);n["default"]=d.exports},e963:function(t,n,e){"use strict";var o=e("bdd0");n["a"]={roleQuery:function(t){return Object(o["a"])("api.acl.role.query",t)},roleSet:function(t){return Object(o["a"])("api.acl.role.set",t)},batchQuery:function(){return Object(o["a"])("api.acl.batch.query")},batchSet:function(t){return Object(o["a"])("api.acl.batch.set",t)}}},f90c:function(t,n,e){var o=e("2ef6"),r=e("2672"),i=e("9bda"),u=e("cc03"),a=e("25eb"),c=function(t){if(t&&t.forEach!==u)try{a(t,"forEach",u)}catch(n){t.forEach=u}};for(var s in r)r[s]&&c(o[s]&&o[s].prototype);c(i)}}]);